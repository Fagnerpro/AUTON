üõ†Ô∏è AJUSTE CR√çTICO PARA EVITAR ERRO DE REMO√á√ÉO DE ELEMENTO INEXISTENTE NO DOM DURANTE ANIMA√á√ÉO DE DESMONTAGEM

1. Acesse o arquivo: `src/components/ui/select.tsx`

2. Envolva todo o conte√∫do que usa `<Select />` e `framer-motion/AnimatePresence` com uma checagem condicional e controle manual do tempo de desmontagem.

üîß Substitua isso:

```tsx
<AnimatePresence>
  {isOpen && <Select />}
</AnimatePresence>
üîê Por isto:

tsx
Copiar
Editar
const [shouldRender, setShouldRender] = useState(false);

useEffect(() => {
  if (isOpen) {
    setShouldRender(true);
  } else {
    const timeout = setTimeout(() => setShouldRender(false), 300); // mesmo tempo do `exit`
    return () => clearTimeout(timeout);
  }
}, [isOpen]);

<AnimatePresence>
  {shouldRender && (
    <motion.div
      key="select"
      initial={{ opacity: 0 }}
      animate={{ opacity: 1 }}
      exit={{ opacity: 0 }}
    >
      <Select />
    </motion.div>
  )}
</AnimatePresence>
Em SelectPortal ou SelectContent, evite que o componente motion.div seja desmontado antes do Portal estar realmente fora do DOM. Para isso:

‚úÖ Adicione um fallback seguro de desmontagem usando ref de seguran√ßa:

tsx
Copiar
Editar
const portalRef = useRef<HTMLDivElement | null>(null);

useEffect(() => {
  return () => {
    if (portalRef.current?.parentNode) {
      try {
        portalRef.current.parentNode.removeChild(portalRef.current);
      } catch (err) {
        console.warn('‚ö†Ô∏è Portal j√° removido: ', err);
      }
    }
  };
}, []);
üîÅ Passe esse ref para o container do portal:

tsx
Copiar
Editar
<Portal ref={portalRef}>...</Portal>
Se estiver usando Presence da Radix com Tabs ou Select, troque a desmontagem autom√°tica por controle manual com present={boolean} e evite usar key que muda frequentemente (isso for√ßa desmontagens inesperadas):

tsx
Copiar
Editar
<Presence present={shouldRender}>
  <Select />
</Presence>
Certifique-se de que as bibliotecas estejam atualizadas, especialmente:

bash
Copiar
Editar
npm install @radix-ui/react-select@latest
npm install framer-motion@latest